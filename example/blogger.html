<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    />
    <!-- <style>
      .chat-bubble-container {
        border: 1px solid #ddd;
        height: 500px; /* Garde la hauteur comme tu veux */
        overflow-y: auto; /* Permet le d√©filement */
        padding: 15px;
        background-color: #f9f9f9;
        display: flex;
        flex-direction: column;
      }

      .chat-message-list {
        display: flex;
        flex-direction: column;
        gap: 10px;
      }

      .chat-bubble {
        margin: 10px;
        padding: 15px;
        border-radius: 15px;
        display: flex;
        align-items: flex-start;
        max-width: 80%;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }

      .sender-name {
        font-weight: bold;
        margin-right: 10px;
        white-space: nowrap;
      }

      .sender-name::after {
        content: ":";
        margin-right: 10px;
      }

      .user {
        background-color: #fdecf0; /* Rose ultra-l√©ger */
        margin-left: auto;
        border-radius: 10px;
        display: flex;
        align-items: center;
      }

      .bot {
        background-color: #e6f2ff;
        border-radius: 10px;
        display: flex;
        align-items: center;
      }

      .chat-bubble img {
        width: 100px; /* 300x450 */
        height: 150px;
        border-radius: 50%;
        margin-right: 15px;
      }

      .chat-bubble div {
        flex-grow: 1;
      }

      .chat-bubble-container .chat-message-list {
        display: flex;
        flex-direction: column;
        gap: 10px;
      }
    </style> -->

    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <style>
      /* Variables pour les couleurs et les transitions */
      :root {
        --primary-color: #9c27b0; /* Deep Purple */
        --secondary-color: #ff4081; /* Vibrant Pink */
        --user-bubble-color: #f3e5f5; /* Light Lavender */
        --bot-bubble-color: #e1f5fe; /* Soft Blue */
        --text-primary: #333333;
        --text-secondary: #6a1b9a; /* Dark Purple */
        --shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }

      /* Conteneur principal */
      .chat-bubble-container {
        font-family: "Montserrat", Arial, sans-serif;
        border-radius: 20px;
        height: 600px;
        overflow-y: auto;
        padding: 20px;
        background-color: #ffffff;
        background-image: radial-gradient(
            circle at 10% 20%,
            rgba(255, 192, 203, 0.1) 0%,
            transparent 20%
          ),
          radial-gradient(
            circle at 90% 80%,
            rgba(173, 216, 230, 0.1) 0%,
            transparent 20%
          );
        display: flex;
        flex-direction: column;
        gap: 16px;
        box-shadow: var(--shadow);
        border: 2px solid #ffe6f3;
      }

      /* Personnalisation de la scrollbar */
      .chat-bubble-container::-webkit-scrollbar {
        width: 8px;
      }

      .chat-bubble-container::-webkit-scrollbar-track {
        background: #fff0f5;
        border-radius: 10px;
      }

      .chat-bubble-container::-webkit-scrollbar-thumb {
        background-color: #ffb6c1;
        border-radius: 10px;
      }

      .chat-message-list {
        display: flex;
        flex-direction: column;
        gap: 20px;
      }

      /* Style g√©n√©ral des bulles */
      .chat-bubble {
        padding: 16px;
        border-radius: 20px;
        display: flex;
        align-items: flex-start;
        max-width: 80%;
        transition: var(--transition);
        position: relative;
        line-height: 1.6;
        gap: 10px;
      }

      .sender-name {
        padding-top: 30px;
        font-weight: bold;
        color: var(--text-secondary);
        text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.1);
        white-space: nowrap;
      }

      .sender-name::after {
        content: ":";
      }

      .chat-text {
        padding-top: 30px;
      }

      /* Styles sp√©cifiques pour les messages utilisateur */
      .user {
        background-color: var(--user-bubble-color);
        margin-left: auto;
        border: 2px solid #ffb6c1;
      }

      /* Styles sp√©cifiques pour les messages bot */
      .bot {
        background-color: var(--bot-bubble-color);
        margin-right: auto;
        border: 2px solid #b0e0e6;
      }

      /* Style des avatars - Gard√© comme demand√© */
      /* .chat-bubble img {
            width: 100px;
            height: 150px;
            border-radius: 50%;
            margin-right: 15px;
            object-fit: cover;
            border: 3px solid #fff;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease;
          }

          .chat-bubble:hover img {
            transform: scale(1.05);
          } */

      .chat-bubble img {
        width: 120px;
        height: 180px; /* Maintained 3:4 aspect ratio */
        border-radius: 15px;
        object-fit: cover;
        border: 3px solid white;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        transition: transform 0.3s ease;
      }

      .chat-bubble:hover img {
        transform: scale(1.05);
      }

      /* Contenu du message */
      .message-content {
        color: var(--text-primary);
        font-size: 1rem;
        background: rgba(255, 255, 255, 0.7);
        padding: 10px;
        border-radius: 12px;
      }

      /* Animation au survol */
      .chat-bubble:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
      }

      /* Style pour le timestamp */
      .timestamp {
        font-size: 0.8rem;
        color: #9b59b6;
        margin-top: 6px;
        text-align: right;
        font-style: italic;
      }

      /* Effet visuel pour les nouveaux messages */
      @keyframes popIn {
        0% {
          transform: scale(0.9);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }

      .popin {
        animation: popIn 0.5s ease-out;
      }

      @media (max-width: 640px) {
        .chat-bubble {
          max-width: 90%;
        }

        .chat-bubble-container {
          padding: 12px;
        }
      }

      .replay-btn {
        background-color: var(--primary-color);
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 8px;
        font-size: 16px;
        cursor: pointer;
        transition: var(--transition);
        box-shadow: var(--shadow);
        text-transform: uppercase;
      }

      .replay-btn:hover {
        background-color: var(--secondary-color);
        transform: translateY(-2px);
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
      }
    </style>

    <button class="replay-btn" onclick="chat.replayAnimation()">
      ‚ñ∂Ô∏è Replay Animation
    </button>

    <div id="ghostChat"></div>

    <script src="../src/chat-bubble.js"></script>
    <script>
      const chat = new ChatBubble({
        container: document.getElementById("ghostChat"),
        delayPerMessage: 4000,
        userName: "Monique",
        botName: "Jean-Bernard",
        animations: {
          enabled: true,
          //type: "slide", // 'fade' ou 'slide'
          duration: 600,
          // *** animate.css ***
          userClass: "popin",
          botClass: "popin",
        },
        botStates: {
          normal:
            "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgpRagLgWHN2gWMX83K7cMSP8fPRJpkXOPVxiJjPid1jGIGmr55v0oEfxbasVkO5QuDVWWAmAgKOP0QS51pqJDtlvFmqlU5xbEIVTTCSpjv3y1rZbkLb7FdQOeQCu1pBEdTTBO8qKWNBTgrkfXACLsWI1e8pRkv0ORpaweWw0-gUpqQ2e6dP5xLsUqHZXhF/s1600/avatar1-normal.jpg",
          talking:
            "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgA-bfwtXlAn79Z9jy72DvsabfQiWFLdnKJZ0MsaHhskYhgTrUBt4Wup9TxJhN8-CgiNnt8lVkg-JBz0wjiaKhdm0-v09jNTYO1F7-pbChSJ0Uq9i4XlgNNtv0Iw655-IYjYr-RxbjFdq6XyGrex4uKWU-yL8XIwD0s_kAtwJlYKJrehS5pVxkn5bJ0bNs6/s1600/avatar1-talking.jpg",
          laughting:
            "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgBkYGJghOTldELYDgIgzFHQkc7EQC7_jufyFCnrFkb25wMFVghnNiKBU9R_tVUu4NJCNhz3UyXYI0P8zo-VatibQzg_9OYX-VGPlEMHMlI9S3VH6THKVdyPbejWPmAESWWPHWes4x09yBNpqwIyHxfebNdNfUPJj5px6DL_lrY3lqG74aRkseE1w4RlPgP/s1600/avatar1-laughting.jpg",
        },
        userStates: {
          normal:
            "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg2Lh1S3p64_4RqqKMwhjg5g-YT8jZ87kRAaNhiBf3Vs3bG0gqFFbEv49MUQaoBUUN_f_Svf3ZjiryfjzCqCKuQz8jz_DLfiwcHNQBQxFjmg2Q2DaYPCV61hzMXL6iXg7y2OVnFT9zSgh6kCe1R6Z52NwN03SX_funaDtzF_S_9D6GHDkn-GHHwdrf4Is5Z/s1600/avatar2-normal.jpg",
          talking:
            "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgWeuIkapUWZnC-isWDTn56kIX2JJBw_77bWpsunsnl7ubHJc9n7yxCn2d2vj35oC94cyGc4QFFSlLGwOWslYSUHlcqTj6z0qoCjf5_5OiZZ5XjxfFUxAnQADh-0VgvZue9qUTwCU_jnMM2FW_uTjmpGE7JuP8jJll4Pa-2ob0U7YvNLj8j3YgTLF_rBv3i/s1600/avatar2-talking.jpg",
          laughting:
            "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEj_dbxiwp0sj2W3KSBdFdlIK7C-Y5154IX1Ue7_7MsDKq6OWGWUzyrbYMvt_akvDDjV8SCYdB-s2o0_DJoP06yZRNttY3y4ia8feNQhZitJdh7R5Lkgl16cJTiHbqaK_nTjfnBv4RW856s0gUkGUfMwo-8FR8v1kyKtMpjrb3HRQ5kEw9rTryiiHITD08kM/s1600/avatar2-laughting.jpg",
          wink: "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiUkXOYtW_BKOfRpvgoYByDR8VXsESgVR_VhjCfWw_g8cURo5ZNuKpf4oH8_eq54coBA538r75lJF-2vF5OL6vTWIGcrxencOzvgsFg6I3EyYaS97bYs_4ce20jGW_MGFo_4BsE-8JwKyRwm1JeNNdp2v04xDZ59Ra4Wga4yES9H-vHzjixC5sJHgl7yjzZ/s1600/avatar2-wink.jpg",
        },
        initialMessages: [
          {
            sender: "bot",
            text: "Eh Monique! Tu es b√™te et tu me rends dingue avec ta Ginette üò§. Si tu rigoles pas √† mes blagues, j‚Äôappuie sur le bouton ghost. üëª",
            state: "talking",
          },
          {
            sender: "user",
            text: "Comment √ßa? T‚Äôes vraiment l√† ou t‚Äôas pris un cong√© c√©r√©bral ? üòÜ",
            state: "laughting",
          },
          {
            sender: "bot",
            text: "Ghoster, c‚Äôest comme un plat r√©chauff√© : √ßa finit toujours par laisser un go√ªt amer. üç≤‚ùå",
            state: "talking",
          },
          {
            sender: "user",
            text: "Hum ? ü§î",
            state: "normal",
          },
          {
            sender: "bot",
            text: "Ghoster, c‚Äôest comme un grille-pain dans le d√©sert : tu chauffes les espoirs pour rien et, au final, tout le monde crame. üèúÔ∏èüî•üçû",
            state: "talking",
          },
          {
            sender: "user",
            text: "Ah ouais, c‚Äôest presque marrant... presque. ü§î",
            state: "talking",
          },
          {
            sender: "bot",
            text: "Si tu ghostes, pr√©pare-toi √† √™tre haunt√© par ta conscience. üëªüß†",
            state: "talking",
          },
          {
            sender: "user",
            text: "Haha, la conscience de quoi ? Parce que l√†, je suis paum√© ! ü§Ø",
            state: "normal",
          },
          {
            sender: "bot",
            text: "√Ä force de ghoster, tu finiras seul dans ton ch√¢teau hant√©. üè∞üëª",
            state: "laughting",
          },
          {
            sender: "user",
            text: "Tu veux dire un club de mes ex en mode fant√¥mes ? Omg, √ßa va √™tre un vrai convoi spectral ! üëª",
            state: "talking",
          },
          {
            sender: "bot",
            text: "Ghoster, c‚Äôest l‚Äôart de la fuite sans le dipl√¥me. üéìüö™üí®",
            state: "laughting",
          },
          {
            sender: "user",
            text: "C‚Äôest pour moi? J‚Äôai une ma√Ætrise en b√™tises ! ü§ì",
            state: "wink",
          },
          {
            sender: "bot",
            text: "Ghoster, c‚Äôest comme servir des croquettes pour chien √† un chat : tu finiras par √™tre ignor√© et c‚Äôest pas vraiment une surprise. üê±‚ùåüçñ",
            state: "laughting",
          },
          {
            sender: "user",
            text: "Miaou! üêàüëÖ",
            state: "laughting",
          },
          ,
          {
            sender: "bot",
            text: "Ghoster, c‚Äôest comme une f√™te sans musique : c‚Äôest juste du silence. üéâüîá",
            state: "laughting",
          },
          {
            sender: "user",
            text: "Tu as raison une musique sans musique, c'est con! C'est moi qui vais te ghoster... ou plut√¥t te reghoster ! üòè",
            state: "laughting",
          },
        ],
        onMessageAdded: (bubble) => {
          //   console.log(bubble);
          // Attendre que le message soit ajout√© avant de faire d√©filer
          //   setTimeout(() => {
          //     const container = document.querySelector(".chat-bubble-container");
          //     container.scrollTop = container.scrollHeight;
          //   }, 300); // L√©g√®re attente pour s'assurer que le DOM est mis √† jour
        },
      });
    </script>
  </body>
</html>
